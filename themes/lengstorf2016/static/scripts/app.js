!function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}var i=n(5),s=n(3),a=n(10),r=n(11),l=n(9),c=n(6),d=o(c),u=n(4),f=o(u),v=n(7),m=o(v);(0,i.moveMarkdownFootnotes)({srcBlockClass:"footnotes",destBlockClass:"post-footnotes"}),d["default"].init(),f["default"].init({elementClass:"header__nav"}),document.addEventListener("click",function(t){(0,a.scrollToLocalLinks)(t,{offsetAdjustment:20,callback:i.highlightCurrentFootnote.bind(null,{containerClass:"post-footnotes"})})}),(0,s.fiveStagesInit)(),(0,r.lazyLoadImages)(),(0,l.lazyLoadDisqus)({shortName:"lengstorf"}),m["default"].init()},function(t,e){"use strict";function n(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function o(t){var e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return e.top>=0&&e.top<=n||e.bottom>=0&&e.bottom<=n}function i(t){var e=arguments.length<=1||void 0===arguments[1]?"js__in-viewport":arguments[1];n(t)?t.classList.add(e):t.classList.remove(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.isElementInViewport=n,e.isElementVisible=o,e.onVisibilityChange=i},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?200:arguments[1],n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},e))}}Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=n},function(t,e,n){"use strict";function o(){var t=arguments.length<=0||void 0===arguments[0]?".five-stages":arguments[0],e=document.querySelectorAll(t);return e?([].forEach.call(e,function(t){t.classList.add("js__active");var e=function(){(0,i.onVisibilityChange)(t)};addEventListener("scroll",e,!1)}),!0):!1}Object.defineProperty(e,"__esModule",{value:!0}),e.fiveStagesInit=o;var i=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=!1,s=function(){return window.pageYOffset||document.documentElement.scrollTop},a=function(t){var e=0;do isNaN(t.offsetTop)||(e+=t.offsetTop);while(t=t.offsetParent);return e},r=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.elementClass,n=void 0===e?"js__floater":e,r=t.fixedClass,l=void 0===r?!1:r,c=t.offsetTop,d=void 0===c?0:c,u=document.getElementsByClassName(n)[0]||!1;u&&!function(){var t=a(u)+d,e=(0,o.throttle)(function(){t<=s()&&!i?(u.classList.add(l||n+"--fixed"),i=!0):t>s()&&i&&(u.classList.remove(l||n+"--fixed"),i=!1)},20);document.addEventListener("scroll",function(){e()}),e()}()},l={init:r};e["default"]=l},function(t,e){"use strict";function n(t){var e=t.srcBlockClass,n=t.destBlockClass,o=document.getElementsByClassName(e).item(0);if(o){var s=document.getElementsByClassName(n).item(0),a=o.getElementsByTagName("OL").item(0);a.classList.add(n+"__list"),i(a,n),s.appendChild(a),s.classList.remove(n+"--hidden"),o.parentNode&&o.parentNode.removeChild(o)}}function o(t,e){var n=t.containerClass,o=t.highlightModifier,i=void 0===o?"--highlight":o,a=e.parentNode,r=a.classList.contains(n+"__list"),l=n+"__footnote"+i;s(n,l),r&&"LI"===e.tagName&&e.classList.add(l)}Object.defineProperty(e,"__esModule",{value:!0}),e.moveMarkdownFootnotes=n,e.highlightCurrentFootnote=o;var i=function(t,e){for(var n=t.children,o=0;o<n.length;o++){n[o].classList.add(e+"__footnote");var i=n[o].querySelector(".footnote-return");i&&i.classList.add(e+"__return-link")}},s=function(t,e){for(var n=document.querySelector("."+t+"__list"),o=n?n.firstElementChild:!1;o&&"LI"===o.tagName;)o.classList.remove(e),o=o.nextElementSibling}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.popoverClass,n=void 0===e?"popover":e,o=t.closeBtnClass,i=void 0===o?"popover__close":o,s=t.buttonModifier,a=void 0===s?new RegExp(/--open-popover\b/):s,r=t.transitionClass,l=void 0===r?"popover--fade-out":r,c=t.hiddenClass,d=void 0===c?"popover--hidden":c,u=t.transitionSpeed,f=void 0===u?150:u,v=t.showCB,m=void 0===v?function(){}:v,p=t.hideCB,h=void 0===p?function(){}:p;return{popoverClass:n,closeBtnClass:i,buttonModifier:a,transitionClass:l,hiddenClass:d,transitionSpeed:f,showCB:m,hideCB:h}},o=function(t){var e=t.popover,n=t.transitionClass,o=t.hiddenClass,i=t.showCB;e.classList.remove(o),setTimeout(function(){e.classList.remove(n)},10),i()},i=function(t){var e=t.popover,n=t.transitionClass,o=t.hiddenClass,i=t.transitionSpeed,s=t.hideCB;e.classList.add(n),setTimeout(function(){e.classList.add(o)},i),s()},s=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=n(t),s=e.popoverClass,a=e.closeBtnClass,r=e.buttonModifier,l=e.transitionClass,c=e.hiddenClass,d=e.transitionSpeed,u=e.showCB,f=e.hideCB,v=document.getElementsByClassName(s).item(0);v&&!function(){var t=document.getElementsByClassName(a).item(0),e=i.bind(null,{popover:v,transitionClass:l,hiddenClass:c,transitionSpeed:d,hideCB:f}),n=o.bind(null,{popover:v,transitionClass:l,hiddenClass:c,showCB:u});t.addEventListener("click",function(t){t.preventDefault(),e()}),document.addEventListener("click",function(t){var e=t.target;do if("undefined"!=typeof e.classList){var o=[].map.call(e.classList,function(t){return t});if(e&&r.test(o))return t.preventDefault(),t.stopImmediatePropagation(),void n()}while(e=e.parentNode)})}()},a={init:s};e["default"]=a},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),s=o(i),a=function(t){var e=[].filter.call(t.classList,function(t){return/link--/.test(t)}),n=e[0].replace("sharing__link--",""),o=function(){window.open(t.href,"sharing-window","width=800, height=400, top=200, left=300")};s["default"].trackEvent({category:"share",action:n,callback:o})},r=function(){document.addEventListener("click",function(t){t.target.classList&&t.target.classList.contains("sharing__link")&&(t.preventDefault(),a(t.target))})},l={init:r};e["default"]=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){var e=t.category,n=void 0===e?"default":e,o=t.action,i=void 0===o?"click":o,s=t.source,a=void 0===s?document.location.pathname:s,r=t.callback,l=void 0===r?function(){}:r;ga("send",{hitType:"event",eventCategory:n,eventAction:i,eventLabel:a,hitCallback:l})},o={trackEvent:n};e["default"]=o},function(t,e,n){"use strict";function o(t){var e=t.shortName,n=t.containerClass,o=void 0===n?"comments":n,r=document.getElementsByClassName(o)[0],c=(0,i.throttle)(function(){r&&!a&&(0,s.isElementVisible)(r)&&(r.classList.add(o+"--loading"),l(e))},100);window.addEventListener("scroll",c),c()}Object.defineProperty(e,"__esModule",{value:!0}),e.lazyLoadDisqus=o;var i=n(2),s=n(1),a=!1,r=!1,l=function(t){r=window.disqus_config;var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+t+".disqus.com/embed.js",(document.body||document.head).appendChild(e),a=!0}},function(t,e){"use strict";function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.offsetAdjustment,o=void 0===n?0:n,i=e.duration,s=void 0===i?750:i,a=e.callback,r=void 0===a?function(){}:a;"A"===t.target.tagName&&"undefined"!==t.target.href&&!function(){c();var e={uri:t.target.href,offsetAdjustment:o,duration:s,callback:r};u(t,e).then(function(){history.pushState({newURL:e.uri},"",e.uri)})["catch"](function(t){})}()}Object.defineProperty(e,"__esModule",{value:!0}),e.scrollToLocalLinks=n;var o=!1,i=function(){var t=document.location,e=t.protocol,n=t.host,o=t.pathname;return e+"//"+n+o},s=function(t){return!t.replace(i(),"").match(/^http/)},a=function(){return document.body.scrollTop?document.body:document.documentElement},r=function(t,e,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+e},l=function f(t,e,n){var o=n.position,i=n.stepSize,s=n.increment,a=n.duration,l=n.callback,c=void 0===l?function(){}:l;e+=s,t.scrollTop=r(e,o,i,a),a>e?setTimeout(function(){f(t,e,{position:o,stepSize:i,increment:s,duration:a,callback:c})},s):c()},c=function(){document.body&&0===document.body.scrollTop&&(document.body.scrollTop=1)},d=function(t,e,n){return new Promise(function(o,i){l(t,0,{position:t.scrollTop,stepSize:e-t.scrollTop,increment:20,callback:o,duration:n})})},u=function(t,e){var n=e.uri,i=e.offsetAdjustment,r=e.duration,l=e.callback;return new Promise(function(e,c){o&&c("Scrolling is already in progress.");var u=n.split("#")[1]||!1;if(s(n)&&u){t.preventDefault(),o=!0;var f=u?document.getElementById(u):!1,v=a(),m=f.offsetTop-i;d(v,m,r).then(function(){o=!1,e()}),l(f)}else c("Link is not local.")})}},function(t,e){"use strict";function n(t){var e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return e.top>=0&&e.top<=n||e.bottom>=0&&e.bottom<=n}function o(t){var e=arguments.length<=1||void 0===arguments[1]?200:arguments[1],n=!1;return function(){n||(t.call(),n=!0,setTimeout(function(){n=!1},e))}}function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"srcset"in document.createElement("img")?(c(t),!0):!1}Object.defineProperty(e,"__esModule",{value:!0}),e.lazyLoadImages=i;var s=function(t,e){return!t.dataset.loaded&&n(t)?(t.dispatchEvent(e),!0):!1},a=function(t){return"img"===t.tagName.toLowerCase()?t:t.querySelector("img")},r=function(t){t.target.srcset=t.target.dataset.lazyload,t.target.dataset.loaded=!0},l=function(t,e){for(var n=t;"body"!==n.tagName.toLowerCase();)n.classList.contains(e)?n.classList.remove(e):n=n.parentNode},c=function(){for(var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.containerClass,n=void 0===e?"js--lazyload":e,i=t.loadingClass,c=void 0===i?"js--lazyload--loading":i,d=t.callback,u=void 0===d?function(){}:d,f=document.getElementsByClassName(n),v=0,m=f.length;m>v;v++)f[v].classList.add(c);var p=[].map.call(f,a),h=new Event("lazyload-init");p.forEach(function(t){t.addEventListener("load",function(t){l(t.target,c),u(t)}),t.addEventListener("lazyload-init",r),s(t,h)});var g=o(function(){p.forEach(function(t){s(t,h)})},100);window.addEventListener("scroll",g)}}]);